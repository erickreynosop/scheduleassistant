{% extends "base.html" %}
{% block content %}
  <h1>Create Appointment</h1>

  <form method="post" style="display:grid; gap:16px;">
    <!-- SERVICES GROUPS (ACCORDION) -->
    <div>
      <label style="font-weight:700; display:block; margin-bottom:6px;">Services</label>

      <div style="display:grid; gap:10px">
        <!-- Powerwashing -->
        <details open class="svc">
          <summary class="svc-h">Powerwashing</summary>
          <div class="svc-body">
            <label class="chk"><input type="checkbox" name="services" value="Powerwashing Roof"> Roof</label>
            <label class="chk"><input type="checkbox" name="services" value="Powerwashing House"> House</label>
            <label class="chk"><input type="checkbox" name="services" value="Powerwashing Driveway"> Driveway</label>
            <label class="chk"><input type="checkbox" name="services" value="Powerwashing Pool Deck"> Pool deck</label>
          </div>
        </details>

        <!-- Windows -->
        <details class="svc">
          <summary class="svc-h">Windows</summary>
          <div class="svc-body">
            <label class="chk"><input type="checkbox" name="services" value="Windows Inside"> Inside</label>
            <label class="chk"><input type="checkbox" name="services" value="Windows Outside"> Outside</label>
            <label class="chk"><input type="checkbox" name="services" value="Windows - Both"> Both</label>
          </div>
        </details>

        <!-- Cleaning Services -->
        <details class="svc">
          <summary class="svc-h">Cleaning Services</summary>
          <div class="svc-body">
            <label class="chk"><input type="checkbox" name="services" value="Gutters Cleaning"> Gutters</label>
            <label class="chk"><input type="checkbox" name="services" value="Trash Bins Cleaning"> Trash bins</label>
            <label class="chk"><input type="checkbox" name="services" value="Recycling Bins Cleaning"> Recycling bins</label>
          </div>
        </details>
      </div>
    </div>

    <!-- DATE / TIME -->
    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:12px;">
      <div>
        <label for="date" style="font-weight:600;">Date</label>
        <input id="date" name="date" type="date" required />
      </div>
      <div>
        <label for="time" style="font-weight:600;">Time</label>
        <input id="time" name="time" type="time" required />
      </div>
    </div>

    <!-- SPECIAL REQUEST -->
    <div>
      <label for="notes" style="font-weight:600;">Special request</label>
      <input id="notes" name="notes" type="text" placeholder="Any details or location" />
    </div>

    <button type="submit">Create</button>

    <div class="links" style="margin-top:6px; text-align:center;">
      <a href="{{ url_for('main') }}">Back to Main Menu</a>
    </div>
  </form>

  <!-- Tiny styles for the accordion look -->
  <style>
    details.svc {
      background: #fff;
      border: 1px solid #e6e6e6;
      border-radius: 12px;
      padding: 6px 10px;
    }
    .svc-h {
      font-weight: 700;
      cursor: pointer;
      list-style: none;
    }
    .svc-h::-webkit-details-marker { display: none; }
    .svc-h::after {
      content: "▾";
      float: right;
      font-weight: 400;
    }
    details[open] .svc-h::after { content: "▴"; }
    .svc-body {
      display: grid;
      gap: 8px;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      padding: 8px 2px 4px;
    }
    .chk {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    input[type="date"],
    input[type="time"],
    input[type="text"] {
      width: 100%;
      padding: 12px 14px;
      border-radius: 10px;
      border: 1px solid var(--input-border, #ddd);
      background: var(--input-bg, #fff);
      color: var(--text, #000);
    }
    button {
      padding: 12px 16px;
      border: 0;
      border-radius: 10px;
      background: var(--accent, #007bff);
      color: #fff;
      font-weight: 700;
      cursor: pointer;
    }
  </style>
{% endblock %}
